<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>DIY Made Easy — Carousel</title>
<link rel="preconnect" href="https://i.ytimg.com" crossorigin>
<link rel="preconnect" href="https://www.youtube.com">
<style>
html, body {
  height: 100%;
  margin: 0;
  background: #0a0a0a;
  font-family: Inter, Arial, sans-serif;
}
.wrap {
  width: 70%;
  height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  box-sizing: border-box;
}
.stage {
  perspective: 1200px;
  width: 70%;
  max-width: 1250px;
  height: 520px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.carousel {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 22px;
  transform-style: preserve-3d;
  transition: transform .8s cubic-bezier(.22,.95,.35,1);
}
.card {
  width: 320px;
  min-width: 320px;
  background: #111;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 8px 30px rgba(0,0,0,.7);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  transform-origin: center;
  transition: transform .6s, opacity .35s;
}
.thumb {
  width: 100%;
  height: 182px;
  object-fit: cover;
  background: #222;
}
.meta {
  padding: 12px 14px;
  color: #ededed;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.title {
  font-size: 15px;
  font-weight: 600;
  color: #e50914;
  line-height: 1.25;
}
.desc {
  font-size: 13px;
  color: #bcbcbc;
  line-height: 1.3;
  max-height: 44px;
  overflow: hidden;
}
.sub {
  font-size: 12px;
  color: #9a9a9a;
  margin-top: 6px;
}
.card.center {
  transform: translateZ(110px) scale(1.06);
  box-shadow: 0 24px 60px rgba(0,0,0,.55);
  z-index: 3;
}
.card.side {
  transform: translateZ(0) scale(.92) rotateY(var(--ry,12deg));
  opacity: .96;
}
.card.out {
  transform: translateZ(-40px) scale(.80) rotateY(var(--ry,22deg));
  opacity: .50;
  filter: blur(.2px);
}
.btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: #fff;
  padding: 12px 18px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  z-index: 10;
}
.btn:hover {
  border-color: #e50914;
  box-shadow: 0 0 14px rgba(229,9,20,.22);
}
.btn.prev { left: -50px; }
.btn.next { right: -50px; }
@media (max-width:900px){
  .card { width: 86vw; min-width: 86vw; }
  .stage { height: 420px; }
  .carousel { gap: 12px; }
  .btn.prev { left: 5px; }
  .btn.next { right: 5px; }
}
</style>
</head>
<body>
<div class="wrap">
  <div class="stage">
    <div class="carousel" id="car"></div>
    <button class="btn prev" aria-label="Previous">◀</button>
    <button class="btn next" aria-label="Next">▶</button>
  </div>
</div>

<script>
(function(){
const videoUrls = [
"https://youtu.be/j2kl1R_49g8","https://youtu.be/wHB64ogF-E4","https://youtu.be/cSwrO25ETmI",
"https://youtu.be/bAbw6YLXkVo","https://youtu.be/kW17STBqhak","https://youtu.be/nkNrOEl8foc",
"https://youtu.be/G0nUe95ThfY","https://youtu.be/EZtHFyZEWok","https://youtu.be/brZZNT_mrnY",
"https://youtu.be/-4TawU1TiMk","https://youtu.be/MpverOmA6Ug","https://youtu.be/Jtxw6cWn2eg",
"https://youtu.be/bPlX7LCNS0Y","https://youtu.be/IdtcyMCETN4","https://youtu.be/_2BRnh1LF6A"
];

function vid(url){
  try { const u = new URL(url); if(u.hostname.includes("youtu.be")) return u.pathname.slice(1); return u.searchParams.get("v"); } 
  catch { const m = url.match(/(?:v=|\/)([A-Za-z0-9_-]{6,})/); return m ? m[1] : null; }
}
function thumb(id){return "https://i.ytimg.com/vi/"+id+"/hqdefault.jpg";}
async function title(url){
  try { const r = await fetch("https://www.youtube.com/oembed?url="+encodeURIComponent(url)+"&format=json"); if(!r.ok) throw 0; const j = await r.json(); return j.title||"YouTube Video"; } 
  catch { return "YouTube Video"; }
}
function desc(t){return t.split("-")[0].trim()+": a short, practical tutorial.";}

(async function build(){
const car=document.getElementById("car"); const items=[];
for(const url of videoUrls){
const id=vid(url); if(!id) continue; const t=await title(url); const d=desc(t);
const a=document.createElement("a"); a.className="card"; a.href=url; a.target="_blank"; a.rel="noopener noreferrer";
a.innerHTML='<img class="thumb" src="'+thumb(id)+'" alt="'+(t.replace(/"/g,""))+'"><div class="meta"><div class="title">'+t+'</div><div class="desc">'+d+'</div><div class="sub">Watch on YouTube ▶</div></div>';
car.appendChild(a); items.push(a);}
if(items.length===0){car.innerHTML="<div style='color:#f88;padding:18px'>No videos found.</div>"; return;}
let current=0;

function render(){
  const stageWidth = car.parentElement.offsetWidth;
  const cardWidth = items[0].offsetWidth;
  const gap = parseInt(getComputedStyle(car).gap) || 2;
  const totalWidth = (cardWidth + gap) * items.length - gap;
  const centerOffset = (stageWidth - cardWidth)/2;

  items.forEach((c,i)=>{
    c.classList.remove("center","side","out");
    if(i===current)c.classList.add("center");
    else if(i===current-1||i===current+1){ c.classList.add("side"); c.style.setProperty("--ry",i<current?"-12deg":"12deg"); } 
    else { c.classList.add("out"); c.style.setProperty("--ry",i<current?"-22deg":"22deg"); }
  });

  let x = -current * (cardWidth + gap) + centerOffset;
  const maxTranslate = 0;
  const minTranslate = Math.min(stageWidth - totalWidth, 0);
  x = Math.max(Math.min(x, maxTranslate), minTranslate);
  car.style.transform = 'translateX(' + x + 'px)';
}

render();
document.querySelector(".prev").onclick=()=>{current=(current-1+items.length)%items.length;render();};
document.querySelector(".next").onclick=()=>{current=(current+1)%items.length;render();};

// touch support
let sx=0;
car.addEventListener("touchstart",e=>sx=e.touches[0].clientX);
car.addEventListener("touchend",e=>{
  const dx=e.changedTouches[0].clientX-sx;
  if(Math.abs(dx)>40){ if(dx<0) document.querySelector(".next").click(); else document.querySelector(".prev").click(); }
});

})();
})();
</script>
</body>
</html>
