
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video Carousel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for better iframe responsiveness and transition smoothness */
        .aspect-video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            background-color: #000;
        }
        .aspect-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        /* Improve performance on transform */
        #slider {
            will-change: transform;
        }
    </style>
</head>
<body class="bg-gray-900 text-white font-sans antialiased flex items-center justify-center min-h-screen">

    <div class="w-full max-w-4xl mx-auto px-4 py-8">
        <h1 class="text-3xl md:text-4xl font-bold text-center mb-8 text-white tracking-wide">Video Showcase</h1>
        <div id="carousel-container" class="relative">
            <div class="overflow-hidden rounded-lg shadow-2xl bg-black">
                <div id="slider" class="flex transition-transform duration-500 ease-in-out">
                    <!-- Video slides will be injected here by JavaScript -->
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <button id="prev-btn" aria-label="Previous slide" class="absolute top-1/2 left-0 md:-left-6 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 hover:bg-opacity-75 text-white p-3 rounded-full focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-300 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <button id="next-btn" aria-label="Next slide" class="absolute top-1/2 right-0 md:-right-6 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 hover:bg-opacity-75 text-white p-3 rounded-full focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-300 z-10">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>

            <!-- Navigation Dots -->
            <div id="dots-container" class="flex justify-center mt-6 space-x-3">
                <!-- Dots will be injected here by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const videoUrls = [
                'https://youtu.be/j2kl1R_49g8',
                'https://youtu.be/wHB64ogF-E4',
                'https://youtu.be/cSwrO25ETmI',
                'https://youtu.be/bAbw6YLXkVo',
                'https://youtu.be/kW17STBqhak',
                'https://youtu.be/nkNrOEl8foc',
                'https://youtu.be/G0nUe95ThfY',
                'https://youtu.be/EZtHFyZEWok',
                'https://youtu.be/brZZNT_mrnY',
                'https://youtu.be/-4TawU1TiMk',
                'https://youtu.be/MpverOmA6Ug',
                'https://youtu.be/Jtxw6cWn2eg',
                'https://youtu.be/bPlX7LCNS0Y',
                'https://youtu.be/IdtcyMCETN4',
                'https://youtu.be/_2BRnh1LF6A'
            ];

            function getYouTubeEmbedUrl(url) {
                let videoId;
                try {
                    if (url.includes('youtu.be/')) {
                        videoId = new URL(url).pathname.substring(1);
                    } else if (url.includes('youtube.com/watch')) {
                        videoId = new URL(url).searchParams.get('v');
                    }
                    if (videoId) {
                        // enablejsapi=1 allows controlling the player via JavaScript
                        return `https://www.youtube.com/embed/${videoId}?enablejsapi=1`;
                    }
                } catch (e) {
                    console.error('Invalid URL:', url, e);
                }
                return null;
            }
            
            const slider = document.getElementById('slider');
            const dotsContainer = document.getElementById('dots-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            let currentIndex = 0;
            const slides = [];
            const dots = [];

            // Initialize carousel
            videoUrls.forEach((url, index) => {
                const embedUrl = getYouTubeEmbedUrl(url);
                if (embedUrl) {
                    // Create slide
                    const slide = document.createElement('div');
                    slide.className = 'w-full flex-shrink-0';
                    slide.innerHTML = `
                        <div class="aspect-video-container">
                           <iframe src="${embedUrl}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    `;
                    slider.appendChild(slide);
                    slides.push(slide);
                    
                    // Create dot
                    const dot = document.createElement('button');
                    dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    dot.className = 'w-3 h-3 rounded-full bg-gray-600 hover:bg-gray-400 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50';
                    dot.addEventListener('click', () => {
                        goToSlide(index);
                    });
                    dotsContainer.appendChild(dot);
                    dots.push(dot);
                }
            });

            // Function to pause all videos using YouTube's Iframe API postMessage method
            function pauseAllVideos() {
                document.querySelectorAll('#slider iframe').forEach(iframe => {
                    if (iframe.contentWindow) {
                       iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                    }
                });
            }

            // Function to go to a specific slide
            function goToSlide(index) {
                if (slides.length === 0) return;

                // Loop carousel
                if (index < 0) {
                    index = slides.length - 1;
                } else if (index >= slides.length) {
                    index = 0;
                }

                // Pause video on the slide we're leaving
                pauseAllVideos();

                currentIndex = index;
                slider.style.transform = `translateX(-${currentIndex * 100}%)`;

                // Update dots active state
                dots.forEach((dot, i) => {
                    dot.classList.toggle('bg-white', i === currentIndex);
                    dot.classList.toggle('scale-125', i === currentIndex);
                    dot.classList.toggle('bg-gray-600', i !== currentIndex);
                });
            }

            // Event Listeners for buttons
            prevBtn.addEventListener('click', () => {
                goToSlide(currentIndex - 1);
            });

            nextBtn.addEventListener('click', () => {
                goToSlide(currentIndex + 1);
            });
            
            // Initial setup
            if (slides.length > 0) {
                goToSlide(0);
            } else {
                // Hide controls and show message if no videos were loaded
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
                slider.innerHTML = '<p class="text-center text-gray-400 w-full py-20">No videos to display.</p>';
            }
        });
    </script>
</body>
</html>
